{"openapi":"3.1.0","info":{"title":"Saleor Price Manager","description":"Service for managing pricing across multiple Saleor channels","version":"1.0.0"},"paths":{"/api/channels/":{"get":{"tags":["channels"],"summary":"List Channels","description":"Получить список всех каналов с их наценками","operationId":"list_channels_api_channels__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/channels/markup":{"post":{"tags":["channels"],"summary":"Set Markup","description":"Установить наценку для канала","operationId":"set_markup_api_channels_markup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChannelMarkup"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/prices/calculate":{"post":{"tags":["prices"],"summary":"Calculate Price","description":"Рассчитывает цену продукта с учетом наценки канала","operationId":"calculate_price_api_prices_calculate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceCalculationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceCalculationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/prices/batch-calculate":{"post":{"tags":["prices"],"summary":"Batch Calculate","description":"Массовый расчет цен для списка продуктов","operationId":"batch_calculate_api_prices_batch_calculate_post","requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PriceCalculationRequest"},"type":"array","title":"Items"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/webhooks/product-updated":{"post":{"tags":["webhooks"],"summary":"Handle Product Updated","description":"Обработка события обновления продукта","operationId":"handle_product_updated_webhooks_product_updated_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaleorWebhookPayload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/webhooks/channel-created":{"post":{"tags":["webhooks"],"summary":"Handle Channel Created","description":"Обработка события создания канала","operationId":"handle_channel_created_webhooks_channel_created_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaleorWebhookPayload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ChannelMarkup":{"properties":{"channel_id":{"type":"string","title":"Channel Id"},"markup_percent":{"anyOf":[{"type":"number","maximum":1000.0,"minimum":0.0},{"type":"string"}],"title":"Markup Percent"}},"type":"object","required":["channel_id","markup_percent"],"title":"ChannelMarkup"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PriceCalculationRequest":{"properties":{"product_id":{"type":"string","title":"Product Id"},"channel_id":{"type":"string","title":"Channel Id"},"base_price":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Base Price"}},"type":"object","required":["product_id","channel_id","base_price"],"title":"PriceCalculationRequest"},"PriceCalculationResponse":{"properties":{"product_id":{"type":"string","title":"Product Id"},"channel_id":{"type":"string","title":"Channel Id"},"base_price":{"type":"string","title":"Base Price"},"markup_percent":{"type":"string","title":"Markup Percent"},"final_price":{"type":"string","title":"Final Price"},"currency":{"type":"string","title":"Currency"}},"type":"object","required":["product_id","channel_id","base_price","markup_percent","final_price","currency"],"title":"PriceCalculationResponse"},"SaleorWebhookPayload":{"properties":{"event_type":{"type":"string","title":"Event Type"},"product_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Id"},"channel_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Channel Id"},"data":{"additionalProperties":true,"type":"object","title":"Data","default":{}}},"type":"object","required":["event_type"],"title":"SaleorWebhookPayload"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}